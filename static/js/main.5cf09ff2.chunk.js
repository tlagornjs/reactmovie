(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(31)},,,,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),i=a.n(r),l=a(6),c=a.n(l),s=a(9),_=a(1),m=a(2),u=a(4),v=a(3),p=a(5),g=(a(17),[{val:"title",text:"Title"},{val:"year",text:"Year"},{val:"rating",text:"Rating"}]),b=[{val:"asc",text:"\u25b2"},{val:"desc",text:"\u25bc"}],d=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={},a.__sortby=a.props.sortby,a.__orderby=a.props.orderby,a.__queryTerm=a.props.queryTerm,a.__handleChange=function(e){a.__sortby=e.target.value},a.__handleChange2=function(e){a.__orderby=e.target.value},a.__handleChange3=function(e){a.__queryTerm=e.target.value},a.__callParentFunction=function(e){console.log("this.__sortby:"+a.__sortby),console.log("this.__orderby:"+a.__orderby),console.log("this.__queryTerm:"+a.__queryTerm),a.props.handleToApp({sortby:a.__sortby,orderby:a.__orderby,queryTerm:a.__queryTerm})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return console.log("MovieHeader",this.props),o.a.createElement("div",{className:"MovieHeader"},o.a.createElement("b",null,"Movie List"),o.a.createElement("div",null,"SEARCH",o.a.createElement("input",{type:"text",id:"queryTerm",name:"queryTerm",onChange:this.__handleChange3})),o.a.createElement("div",null,o.a.createElement("select",{className:"MovieSortSelect",onChange:this.__handleChange,id:"sortby",name:"sortby",defaultValue:this.__sortby},g.map(function(e){return o.a.createElement("option",{value:e.val,key:e.val},e.text)})),o.a.createElement("select",{className:"MovieOrderSelect",onChange:this.__handleChange2,id:"orderby",name:"orderby",defaultValue:this.__orderby},b.map(function(e){return o.a.createElement("option",{value:e.val,key:e.val},e.text)}))),o.a.createElement("div",null,o.a.createElement("button",{name:"btnGo",onClick:this.__callParentFunction},"GET LIST")),o.a.createElement("div",null))}}]),t}(n.Component),y=(a(19),function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={},a.movieData=a.props.movieDataObject,a.__movie_count=a.props.movieDataObject.movie_count,a.__page_number=a.props.movieDataObject.page_number,a.__page_block=a.props.movieDataObject.page_block,a.__callParentFunctionMovePages=function(e){a.props.handleToAppPages({nextPage:a.__nextPage})},a.__callParentFunctionFirst=function(e){if(e.preventDefault(),!(a.props.movieDataObject.page_number>1))return alert("First page!"),!1;a.__nextPage=1,a.__callParentFunctionMovePages()},a.__callParentFunctionPrev=function(e){if(e.preventDefault(),!(a.props.movieDataObject.page_number>1))return alert("First page!"),!1;a.__nextPage=a.props.movieDataObject.page_number-1,a.__callParentFunctionMovePages()},a.__callParentFunctionNext=function(e){if(e.preventDefault(),!(Math.ceil(a.props.movieDataObject.movie_count/a.props.movieDataObject.page_block)>a.props.movieDataObject.page_number))return alert("Final page!"),!1;a.__nextPage=a.props.movieDataObject.page_number+1,a.__callParentFunctionMovePages()},a.__callParentFunctionFinal=function(e){if(e.preventDefault(),!(Math.ceil(a.props.movieDataObject.movie_count/a.props.movieDataObject.page_block)>a.props.movieDataObject.page_number))return alert("Final page!"),!1;a.__nextPage=Math.ceil(a.props.movieDataObject.movie_count/a.props.movieDataObject.page_block),a.__callParentFunctionMovePages()},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return console.log("MoviePages.__movie_count=",this.props.movieDataObject.movie_count),console.log("MoviePages.__page_number=",this.props.movieDataObject.page_number),console.log("MoviePages.__page_block=",this.props.movieDataObject.page_block),console.log("Total page=",Math.ceil(this.props.movieDataObject.movie_count/this.props.movieDataObject.page_block)),o.a.createElement("div",{className:"MoviePages"},o.a.createElement("div",{className:"MoveiPagesDiv"},o.a.createElement("button",{onClick:this.__callParentFunctionFirst,id:"pageFirst"},"First")),o.a.createElement("div",{className:"MoveiPagesDiv"},o.a.createElement("button",{onClick:this.__callParentFunctionPrev,id:"pagePrev"},"Prev")),o.a.createElement("div",{className:"MoveiPagesDiv"}," ",this.props.movieDataObject.page_number," "),o.a.createElement("div",{className:"MoveiPagesDiv"},o.a.createElement("button",{onClick:this.__callParentFunctionNext,id:"pageNext"},"Next")),o.a.createElement("div",{className:"MoveiPagesDiv"},o.a.createElement("button",{onClick:this.__callParentFunctionFinal,id:"pageFinal"},"Final")))}}]),t}(n.Component));a(21);function h(e){var t=e.movieImage,a=e.movieTitle;return o.a.createElement("img",{className:"Movie__Poster",src:t,alt:a,title:a})}function f(e){var t=e.genre,a=e.genreId;return o.a.createElement("span",{className:"Movie__Genre",key:a},0===a?"":" / ",t)}var P=function(e){var t=e.movieObject;return o.a.createElement("div",{className:"Movie"},o.a.createElement("div",{className:"Movie__Column"},o.a.createElement(h,{movieImage:t.movieImage,movieTitle:t.movieTitle})),o.a.createElement("div",{className:"Movie__Column"},o.a.createElement("h1",null,t.movieTitle),o.a.createElement("div",{className:"Movie__Genres"},t.movieGenres.map(function(e,t){return o.a.createElement(f,{genre:e,key:t,genreId:t})})),o.a.createElement("div",{className:"Movie__year__rating"},t.movieYear," , ",t.movieRating,"/10"),o.a.createElement("div",{className:"Movie__synopsis"},t.movieSynopsis.length>150?t.movieSynopsis.substr(0,150)||" ... ":t.movieSynopsis)))},M=(a(23),function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={},a._sortby="rating",a._orderby="desc",a._currentPage=1,a._queryTerm="",a._nextPage=1,a._pageBlock=1,a._listLimit=20,a._callMovieListGoPagesFromChild=function(e){console.log("parVal:"+e);var t=e.nextPage;a._nextPage=t,a._getMovieList()},a._callMovieListFromChild=function(e){console.log("parVal:"+e);var t=e.sortby,n=e.orderby,o=e.queryTerm;null==e.sortby&&(t=a._sortby),null==e.orderby&&(n=a._orderby),null==e.queryTerm&&(o=a._queryTerm),a._sortby=t,a._orderby=n,a._queryTerm=o,a._nextPage=1,a._getMovieList()},a._getMovieList=Object(s.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._callApi();case 2:t=e.sent,a.setState({movieData:t});case 4:case"end":return e.stop()}},e)})),a._callApi=function(){return console.log("_callApi.this._orderby:"+a._orderby),console.log("_callApi.this._sortby:"+a._sortby),console.log("_callApi.this._queryTerm:"+a._queryTerm),console.log("_callApi.this._nextPage:"+a._nextPage),console.log("_callApi.this._listLimit:"+a._listLimit),fetch("https://yts.am/api/v2/list_movies.json?order_by="+a._orderby+"&sort_by="+a._sortby+"&query_term="+a._queryTerm+"&page="+a._nextPage+"&limit="+a._listLimit).then(function(e){return e.json()}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},a._renderMovies=function(){return a.state.movieData.movies.map(function(e){var t={movieTitle:e.title_long,movieImage:e.large_cover_image,movieGenres:e.genres,movieSynopsis:e.synopsis,movieRating:e.rating,movieYear:e.year};return o.a.createElement(P,{key:e.id,movieObject:t})})},a._renderMoviePages=function(){var e={movie_count:a.state.movieData.movie_count,page_number:a.state.movieData.page_number,page_block:a._listLimit};return console.log("movie_count:"+e.movie_count),console.log("page_number:"+e.page_number),o.a.createElement(y,{movieDataObject:e,handleToAppPages:a._callMovieListGoPagesFromChild})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),this._getMovieList()}},{key:"render",value:function(){return o.a.createElement("div",{className:this.state.movieData?"App":"AppLoading"},this.state.movieData?o.a.createElement(d,{sortby:this._sortby,orderby:this._orderby,queryTerm:this._queryTerm,handleToApp:this._callMovieListFromChild}):"",this.state.movieData?this._renderMoviePages():"Loading",this.state.movieData?this._renderMovies():"Loading")}}]),t}(n.Component)),j=(a(25),a(27),a(29),document.getElementById("root"));i.a.render(o.a.createElement(M,null),j)}],[[10,2,1]]]);
//# sourceMappingURL=main.5cf09ff2.chunk.js.map